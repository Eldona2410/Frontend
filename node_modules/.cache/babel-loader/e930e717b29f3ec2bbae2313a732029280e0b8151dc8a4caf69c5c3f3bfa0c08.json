{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RVAISH\\\\Downloads\\\\AutoOne\\\\frontend\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ApiContext, AuthContext } from \"../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login({\n  i18n\n}) {\n  _s();\n  const {\n    api\n  } = useContext(ApiContext);\n  const {\n    setAuth\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const res = await fetch(`${api}/api/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      const data = await res.json();\n      if (!res.ok) {\n        setMessage(data.error || \"Login failed\");\n        return;\n      }\n\n      // Save token and user\n      const token = data.token || \"dummy-token\"; // replace with real token if backend sends it\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\n      setAuth({\n        token,\n        user: data.user\n      });\n      navigate(\"/profile\");\n    } catch (err) {\n      setMessage(\"Login failed: \" + err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto p-4 border rounded shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold mb-4\",\n      children: (i18n === null || i18n === void 0 ? void 0 : i18n.login) || \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mb-2 text-red-600\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogin,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-1\",\n          children: (i18n === null || i18n === void 0 ? void 0 : i18n.email) || \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          className: \"w-full border p-2 rounded\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block mb-1\",\n          children: (i18n === null || i18n === void 0 ? void 0 : i18n.password) || \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          className: \"w-full border p-2 rounded\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"w-full bg-blue-500 text-white py-2 rounded\",\n        children: (i18n === null || i18n === void 0 ? void 0 : i18n.login) || \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"rNnF7CzP7akqMTQndcIboD9fKnA=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","ApiContext","AuthContext","jsxDEV","_jsxDEV","Login","i18n","_s","api","setAuth","navigate","email","setEmail","password","setPassword","message","setMessage","handleLogin","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","ok","error","token","localStorage","setItem","user","err","className","children","login","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","required","_c","$RefreshReg$"],"sources":["C:/Users/RVAISH/Downloads/AutoOne/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ApiContext, AuthContext } from \"../App\";\r\n\r\nexport default function Login({ i18n }) {\r\n  const { api } = useContext(ApiContext);\r\n  const { setAuth } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const res = await fetch(`${api}/api/login`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ email, password }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (!res.ok) {\r\n        setMessage(data.error || \"Login failed\");\r\n        return;\r\n      }\r\n\r\n      // Save token and user\r\n      const token = data.token || \"dummy-token\"; // replace with real token if backend sends it\r\n      localStorage.setItem(\"token\", token);\r\n      localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n      setAuth({ token, user: data.user });\r\n\r\n      navigate(\"/profile\");\r\n    } catch (err) {\r\n      setMessage(\"Login failed: \" + err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto p-4 border rounded shadow\">\r\n      <h2 className=\"text-xl font-bold mb-4\">{i18n?.login || \"Login\"}</h2>\r\n\r\n      {message && <p className=\"mb-2 text-red-600\">{message}</p>}\r\n\r\n      <form onSubmit={handleLogin} className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block mb-1\">{i18n?.email || \"Email\"}</label>\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            className=\"w-full border p-2 rounded\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block mb-1\">{i18n?.password || \"Password\"}</label>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            className=\"w-full border p-2 rounded\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"w-full bg-blue-500 text-white py-2 rounded\">\r\n          {i18n?.login || \"Login\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}